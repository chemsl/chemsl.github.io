{"version":3,"sources":["webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./src/views/patient.vue?0ba6","webpack:///./src/views/patient.vue?dc06","webpack:///src/views/patient.vue","webpack:///./src/views/patient.vue?4410","webpack:///./src/views/patient.vue","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["toPrimitive","definePropertyModule","createPropertyDescriptor","module","exports","object","key","value","propertyKey","f","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","prop","order","tableData","filter","data","search","name","toLowerCase","includes","scopedSlots","_u","fn","scope","on","$event","handleEdit","$index","row","_v","handleSuccess","dialogFormVisible","form","formLabelWidth","model","callback","$$v","$set","expression","cuslist","getThisCusAllList","slot","minRows","maxRows","remoteMethod","loading","_l","item","selectSure","directives","rawName","domProps","target","composing","staticRenderFns","props","options","list","states","dialogTableVisible","created","getYuyue","yaoPinList","methods","change","medicine","console","log","status","timeAdd0","str","length","i","yd","jsGetAge","birthday","d","age","getFullYear","query","setTimeout","label","indexOf","alert","res","component","$","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","arrayMethodHasSpeciesSupport","wellKnownSymbol","SPECIES","nativeSlice","slice","max","Math","proto","forced","start","end","Constructor","result","n","O","k","fin","undefined","constructor","Array","prototype","call"],"mappings":"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","file":"js/chunk-10deeb15.5ad572a9.js","sourcesContent":["'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./patient.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./patient.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticClass:\"eltable\",staticStyle:{\"width\":\"90%\"},attrs:{\"default-sort\":{prop: 'yydate', order: 'ascending'},\"data\":_vm.tableData.filter(function (data) { return !_vm.search || data.name.toLowerCase().includes(_vm.search.toLowerCase()); })}},[_c('el-table-column',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"性别\",\"prop\":\"gender\"}}),_c('el-table-column',{attrs:{\"label\":\"年龄\",\"prop\":\"age\"}}),_c('el-table-column',{attrs:{\"label\":\"预约日期\",\"prop\":\"yydate\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}}),_c('el-table-column',{attrs:{\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"诊断\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.handleSuccess(scope.$index, scope.row)}}},[_vm._v(\"完成\")]),_c('el-dialog',{attrs:{\"title\":\"信息处理\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{staticClass:\"elform\",attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"患者姓名\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{staticClass:\"two\",attrs:{\"autocomplete\":\"off\",\"disabled\":\"\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_c('el-popover',{staticClass:\"elpopover\",attrs:{\"placement\":\"left\",\"width\":\"350\",\"trigger\":\"click\"}},[_c('el-table',{attrs:{\"data\":_vm.cuslist}},[_c('el-table-column',{attrs:{\"width\":\"150\",\"property\":\"yydate\",\"label\":\"日期\"}}),_c('el-table-column',{attrs:{\"width\":\"100\",\"property\":\"zhenduancontent\",\"label\":\"病情\"}}),_c('el-table-column',{attrs:{\"width\":\"100\",\"property\":\"keshi\",\"label\":\"科室\"}})],1),_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.getThisCusAllList(_vm.form)}},slot:\"reference\"},[_vm._v(\"查看过往病史\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"患者年龄\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{staticClass:\"two\",attrs:{\"autocomplete\":\"off\",\"disabled\":\"\"},model:{value:(_vm.form.age),callback:function ($$v) {_vm.$set(_vm.form, \"age\", $$v)},expression:\"form.age\"}})],1),_c('el-form-item',{attrs:{\"label\":\"患者病情\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"type\":\"textarea\",\"autosize\":{ minRows: 2, maxRows: 4}},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"选择药品\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{staticClass:\"elselct\",attrs:{\"multiple\":\"\",\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"请输入药品名称\",\"remote-method\":_vm.remoteMethod,\"loading\":_vm.loading},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.value,\"value\":item.value}})}),1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.selectSure}},[_vm._v(\"确 定\")])],1)],1)]}}])},[_c('template',{slot:\"header\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"buginput\",attrs:{\"type\":\"text\",\"placeholder\":\"输入关键字搜索\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}})])],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-table\r\n      class=\"eltable\"\r\n      :default-sort=\"{prop: 'yydate', order: 'ascending'}\"\r\n      :data=\"tableData.filter(data => !search || data.name.toLowerCase().includes(search.toLowerCase()))\"\r\n      style=\"width: 90%\"\r\n    >\r\n      <el-table-column label=\"姓名\" prop=\"name\"></el-table-column>\r\n      <el-table-column label=\"性别\" prop=\"gender\"></el-table-column>\r\n      <el-table-column label=\"年龄\" prop=\"age\"></el-table-column>\r\n      <el-table-column label=\"预约日期\" prop=\"yydate\"></el-table-column>\r\n      <el-table-column label=\"状态\" prop=\"status\"></el-table-column>\r\n\r\n      <el-table-column align=\"right\">\r\n        <template slot=\"header\">\r\n          <input class=\"buginput\" type=\"text\" v-model=\"search\" placeholder=\"输入关键字搜索\" />\r\n        </template>\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" type=\"primary\" @click=\"handleEdit(scope.$index, scope.row)\">诊断</el-button>\r\n          <el-button size=\"mini\" type=\"success\" @click=\"handleSuccess(scope.$index, scope.row)\">完成</el-button>\r\n\r\n          <el-dialog title=\"信息处理\" :visible.sync=\"dialogFormVisible\">\r\n            <el-form :model=\"form\" class=\"elform\">\r\n              <el-form-item label=\"患者姓名\" :label-width=\"formLabelWidth\">\r\n                <el-input class=\"two\" v-model=\"form.name\" autocomplete=\"off\" disabled></el-input>\r\n                <el-popover class=\"elpopover\" placement=\"left\" width=\"350\" trigger=\"click\">\r\n                  <el-table :data=\"cuslist\">\r\n                    <el-table-column width=\"150\" property=\"yydate\" label=\"日期\"></el-table-column>\r\n                    <el-table-column width=\"100\" property=\"zhenduancontent\" label=\"病情\"></el-table-column>\r\n                    <el-table-column width=\"100\" property=\"keshi\" label=\"科室\"></el-table-column>\r\n                  </el-table>\r\n                  <el-button slot=\"reference\" type=\"primary\" @click=\"getThisCusAllList(form)\">查看过往病史</el-button>\r\n                </el-popover>\r\n              </el-form-item>\r\n              <el-form-item label=\"患者年龄\" :label-width=\"formLabelWidth\">\r\n                <el-input class=\"two\" v-model=\"form.age\" autocomplete=\"off\" disabled></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"患者病情\" :label-width=\"formLabelWidth\">\r\n                <el-input\r\n                  v-model=\"form.content\"\r\n                  autocomplete=\"off\"\r\n                  type=\"textarea\"\r\n                  :autosize=\"{ minRows: 2, maxRows: 4}\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"选择药品\" :label-width=\"formLabelWidth\">\r\n                <el-select\r\n                  class=\"elselct\"\r\n                  v-model=\"value\"\r\n                  multiple\r\n                  filterable\r\n                  remote\r\n                  reserve-keyword\r\n                  placeholder=\"请输入药品名称\"\r\n                  :remote-method=\"remoteMethod\"\r\n                  :loading=\"loading\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"item in options\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.value\"\r\n                    :value=\"item.value\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n              <el-button type=\"success\" @click=\"selectSure\">确 定</el-button>\r\n            </div>\r\n          </el-dialog>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getYuyue,\r\n  yaoPinList,\r\n  updateCusStatus,\r\n  getThisCusAllList,\r\n  saveCusDetail,\r\n  removeYyCus\r\n} from \"../network/data\";\r\nexport default {\r\n  props: [\"cuser\"],\r\n  data() {\r\n    return {\r\n      options: [],\r\n      value: [],\r\n      list: [],\r\n      loading: false,\r\n      states: [],\r\n      dialogTableVisible: false,\r\n      dialogFormVisible: false,\r\n      form: [],\r\n      formLabelWidth: \"120px\",\r\n      tableData: [],\r\n      search: \"\",\r\n      cuslist: []\r\n    };\r\n  },\r\n  created() {\r\n    this.getYuyue();\r\n    this.yaoPinList();\r\n  },\r\n  methods: {\r\n    change(e) {\r\n    },\r\n    getThisCusAllList(form) {\r\n      this.cuslist = [];\r\n      getThisCusAllList(form).then(res => {\r\n        for (let i of res) {\r\n          i.yydate =\r\n            new Date(i.yydate).toLocaleDateString() +\r\n            new Date(i.yydate).toLocaleTimeString();\r\n          this.cuslist.push(i);\r\n        }\r\n      });\r\n    },\r\n    selectSure() {\r\n      this.form.medicine = this.value;\r\n      console.log(this.form);\r\n      saveCusDetail(this.form).then(res => {\r\n        //把弹窗的信息存进cusdetails\r\n      });\r\n      if (this.form.status === \"排队中\") {\r\n        updateCusStatus(this.form).then(res => {\r\n          this.dialogFormVisible = false;\r\n          this.$router.go(\"/index/patient\");\r\n        });\r\n      } else {\r\n        this.dialogFormVisible = false;\r\n      }\r\n    },\r\n    yaoPinList() {\r\n      yaoPinList().then(res => {\r\n        for (let i = 0; i < res.length; i++) {\r\n          this.states.push(res[i].name);\r\n        }\r\n        this.list = this.states.map(item => {\r\n          return { value: `${item}`, label: `label:${item}` };\r\n        });\r\n      });\r\n    },\r\n    getYuyue() {\r\n      getYuyue().then(res => {\r\n        this.tableData = [];\r\n        let nowYear, nowMonth, nowDay, nowHours, nowMin, nowSeconds;\r\n        function timeAdd0(str) {\r\n          if (str.length <= 1) str = \"0\" + str;\r\n          return str;\r\n        }\r\n        for (let i of res) {\r\n          nowYear = new Date(i.yydate).getFullYear().toString();\r\n          nowMonth = (new Date(i.yydate).getMonth() + 1).toString();\r\n          nowDay = new Date(i.yydate).getDate().toString();\r\n          nowHours = new Date(i.yydate).getHours().toString();\r\n          nowMin = new Date(i.yydate).getMinutes().toString(); //获取当前分钟数(0-59)\r\n          nowSeconds = new Date(i.yydate).getSeconds().toString();\r\n\r\n          nowYear = timeAdd0(nowYear);\r\n          nowMonth = timeAdd0(nowMonth);\r\n          nowDay = timeAdd0(nowDay);\r\n          nowHours = timeAdd0(nowHours);\r\n          nowMin = timeAdd0(nowMin);\r\n          nowSeconds = timeAdd0(nowSeconds);\r\n          if (i.doctorid === this.cuser.email) {\r\n            console.log(i.yydate)\r\n            i.yydate =\r\n               nowYear +\r\n               \"-\" +\r\n              nowMonth +\r\n              \"-\" +\r\n              nowDay \r\n              //+\r\n              // \"/\" +\r\n              // nowHours +\r\n              // \":\" +\r\n              // nowMin +\r\n              // \":\" +\r\n              // nowSeconds;\r\n              i.yd=             nowYear +\r\n               \"/\" +\r\n              nowMonth +\r\n              \"/\" +\r\n              nowDay \r\n              +\r\n              \"/\" +\r\n              nowHours +\r\n              \":\" +\r\n              nowMin +\r\n              \":\" +\r\n              nowSeconds;\r\n              console.log(i.yd)\r\n            let year=i.idcard.slice(6,10)\r\n            let month=i.idcard.slice(10,12)\r\n            let day=i.idcard.slice(12,14)\r\n            let full=year+'-'+month+'-'+day\r\n            i.age=this.jsGetAge(full)\r\n            // if (i.status != \"问诊完成\") \r\n            if(i.yynum=='1'){\r\n              i.yydate=i.yydate+':08:05'\r\n            }\r\n            if(i.yynum=='2'){\r\n              i.yydate=i.yydate+':09:05'\r\n            }\r\n            if(i.yynum=='3'){\r\n              i.yydate=i.yydate+':10:00'\r\n            }\r\n            \r\n            this.tableData.push(i);\r\n            console.log(this.tableData);\r\n            \r\n          }\r\n        }\r\n      });\r\n    },\r\n    jsGetAge(birthday){\r\n      birthday=\r\n      birthday=new Date(birthday)\r\n      var d=new Date()\r\n      var age = d.getFullYear()-birthday.getFullYear()-((d.getMonth()<birthday.getMonth()\r\n      || d.getMonth()==birthday.getMonth() && d.getDate()<birthday.getDate())?1:0)\r\n      return age\r\n    },\r\n    remoteMethod(query) {\r\n      if (query !== \"\") {\r\n        this.loading = true;\r\n        setTimeout(() => {\r\n          this.loading = false;\r\n          this.options = this.list.filter(item => {\r\n            return item.label.toLowerCase().indexOf(query.toLowerCase()) > -1;\r\n          });\r\n        }, 200);\r\n      } else {\r\n        this.options = [];\r\n      }\r\n    },\r\n    handleEdit(index, row) {\r\n      this.form = row;\r\n      this.dialogFormVisible = true;\r\n    },\r\n    handleSuccess(index, row) {\r\n      //this.form = row;\r\n      console.log(this.form);\r\n      if (row.status == \"排队中\") alert(\"请诊断\");\r\n      else {\r\n        removeYyCus(row).then(res => {\r\n          console.log(res);\r\n          this.$router.go(\"/index/patient\");\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.elselct {\r\n  position: absolute;\r\n  left: 0;\r\n}\r\n.eltable {\r\n  position: absolute;\r\n  top: 10%;\r\n  margin-left: 1%;\r\n}\r\n.two {\r\n  position: absolute;\r\n  left: 0;\r\n  width: 30%;\r\n}\r\n.elpopover {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.buginput {\r\n  width: 120px;\r\n  height: 20px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./patient.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./patient.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./patient.vue?vue&type=template&id=81c589ee&\"\nimport script from \"./patient.vue?vue&type=script&lang=js&\"\nexport * from \"./patient.vue?vue&type=script&lang=js&\"\nimport style0 from \"./patient.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('slice') }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}